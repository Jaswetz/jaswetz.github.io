{"mappings":"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","sources":["<anon>","src/js/enhanced-image-loader.js"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var parcelRequire = $parcel$global[\"parcelRequire9b4d\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"bUb95\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $8aad91eeb8804f9c$export$2e2bcd8739ae039; });\n/**\n * Minimal Image Loader - Lightweight lazy loading\n * Target size: <2KB, essential features only\n */ class $8aad91eeb8804f9c$var$EnhancedImageLoader {\n    constructor(){\n        this.observer = null;\n        this.loadedImages = new Set();\n        this.webpSupported = null;\n        this.initIntersectionObserver();\n    }\n    initIntersectionObserver() {\n        if (!('IntersectionObserver' in window)) return;\n        this.observer = new IntersectionObserver((entries)=>{\n            entries.forEach((entry)=>{\n                if (entry.isIntersecting && !this.loadedImages.has(entry.target)) this.loadImage(entry.target);\n            });\n        }, {\n            rootMargin: '50px 0px',\n            threshold: 0.1\n        });\n    }\n    supportsWebP() {\n        if (this.webpSupported !== null) return this.webpSupported;\n        return new Promise((resolve)=>{\n            const webP = new Image();\n            webP.onload = webP.onerror = ()=>{\n                this.webpSupported = webP.height === 2;\n                resolve(this.webpSupported);\n            };\n            webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n        });\n    }\n    async loadImage(img) {\n        if (!(img instanceof HTMLImageElement)) return;\n        const originalSrc = img.dataset.src || img.src;\n        if (!originalSrc) return;\n        try {\n            img.classList.add('loading');\n            let finalSrc = originalSrc;\n            const isSvg = /\\.svg$/i.test(originalSrc);\n            // Try WebP for non-SVG images\n            if (!isSvg && await this.supportsWebP()) {\n                const webpSrc = originalSrc.replace(/^(.*\\/img\\/)/, '$1webp/').replace(/\\.(jpg|jpeg|png)$/i, '.webp');\n                if (await this.imageExists(webpSrc)) finalSrc = webpSrc;\n            }\n            img.onload = ()=>{\n                img.classList.remove('loading');\n                img.classList.add('loaded');\n            };\n            img.onerror = ()=>{\n                img.src = originalSrc;\n                img.classList.remove('loading');\n                img.classList.add('error');\n            };\n            img.src = finalSrc;\n            this.loadedImages.add(img);\n        } catch (error) {\n            console.warn('Failed to load image:', originalSrc, error);\n            img.src = originalSrc;\n            img.classList.remove('loading');\n            img.classList.add('error');\n        }\n    }\n    imageExists(src) {\n        return new Promise((resolve)=>{\n            const img = new Image();\n            img.onload = ()=>resolve(true);\n            img.onerror = ()=>resolve(false);\n            img.src = src;\n        });\n    }\n    setupLazyLoading() {\n        const lazyImages = document.querySelectorAll('img[data-src]');\n        lazyImages.forEach((img)=>{\n            if (this.observer) this.observer.observe(img);\n            else this.loadImage(img);\n        });\n    }\n    preloadCriticalImages() {\n        const criticalImages = document.querySelectorAll('img[data-critical]');\n        criticalImages.forEach((img)=>{\n            if (img instanceof HTMLImageElement) this.loadImage(img);\n        });\n    }\n    init() {\n        this.preloadCriticalImages();\n        this.setupLazyLoading();\n        this.addLoadingStyles();\n    }\n    addLoadingStyles() {\n        if (document.getElementById('enhanced-image-loader-styles')) return;\n        const style = document.createElement('style');\n        style.id = 'enhanced-image-loader-styles';\n        style.textContent = `\n      img.loading { opacity: 0; transition: opacity 0.3s ease-in-out; }\n      img.loaded { opacity: 1; }\n      img.error { opacity: 0.7; filter: grayscale(100%); }\n      @media (prefers-reduced-motion: reduce) { img.loading { transition: none; } }\n    `;\n        document.head.appendChild(style);\n    }\n    getStats() {\n        return {\n            loadedImages: this.loadedImages.size,\n            webpSupported: this.webpSupported,\n            observerSupported: !!this.observer\n        };\n    }\n}\n// Auto-initialize\nif (typeof window !== 'undefined') {\n    const enhancedLoader = new $8aad91eeb8804f9c$var$EnhancedImageLoader();\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', ()=>{\n        enhancedLoader.init();\n    });\n    else enhancedLoader.init();\n    // Make available globally\n    window.enhancedImageLoader = enhancedLoader;\n}\nvar $8aad91eeb8804f9c$export$2e2bcd8739ae039 = $8aad91eeb8804f9c$var$EnhancedImageLoader;\n\n});\n\n\n//# sourceMappingURL=enhanced-image-loader.db3270fe.js.map\n","/**\n * Minimal Image Loader - Lightweight lazy loading\n * Target size: <2KB, essential features only\n */\n\nclass EnhancedImageLoader {\n  constructor() {\n    this.observer = null;\n    this.loadedImages = new Set();\n    this.webpSupported = null;\n    this.initIntersectionObserver();\n  }\n\n  initIntersectionObserver() {\n    if (!('IntersectionObserver' in window)) {\n      return;\n    }\n\n    this.observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting && !this.loadedImages.has(entry.target)) {\n            this.loadImage(entry.target);\n          }\n        });\n      },\n      { rootMargin: '50px 0px', threshold: 0.1 }\n    );\n  }\n\n  supportsWebP() {\n    if (this.webpSupported !== null) {\n      return this.webpSupported;\n    }\n\n    return new Promise(resolve => {\n      const webP = new Image();\n      webP.onload = webP.onerror = () => {\n        this.webpSupported = webP.height === 2;\n        resolve(this.webpSupported);\n      };\n      webP.src =\n        'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n    });\n  }\n\n  async loadImage(img) {\n    if (!(img instanceof HTMLImageElement)) {\n      return;\n    }\n\n    const originalSrc = img.dataset.src || img.src;\n    if (!originalSrc) {\n      return;\n    }\n\n    try {\n      img.classList.add('loading');\n\n      let finalSrc = originalSrc;\n      const isSvg = /\\.svg$/i.test(originalSrc);\n\n      // Try WebP for non-SVG images\n      if (!isSvg && (await this.supportsWebP())) {\n        const webpSrc = originalSrc\n          .replace(/^(.*\\/img\\/)/, '$1webp/')\n          .replace(/\\.(jpg|jpeg|png)$/i, '.webp');\n        if (await this.imageExists(webpSrc)) {\n          finalSrc = webpSrc;\n        }\n      }\n\n      img.onload = () => {\n        img.classList.remove('loading');\n        img.classList.add('loaded');\n      };\n      img.onerror = () => {\n        img.src = originalSrc;\n        img.classList.remove('loading');\n        img.classList.add('error');\n      };\n\n      img.src = finalSrc;\n      this.loadedImages.add(img);\n    } catch (error) {\n      console.warn('Failed to load image:', originalSrc, error);\n      img.src = originalSrc;\n      img.classList.remove('loading');\n      img.classList.add('error');\n    }\n  }\n\n  imageExists(src) {\n    return new Promise(resolve => {\n      const img = new Image();\n      img.onload = () => resolve(true);\n      img.onerror = () => resolve(false);\n      img.src = src;\n    });\n  }\n\n  setupLazyLoading() {\n    const lazyImages = document.querySelectorAll('img[data-src]');\n    lazyImages.forEach(img => {\n      if (this.observer) {\n        this.observer.observe(img);\n      } else {\n        this.loadImage(img);\n      }\n    });\n  }\n\n  preloadCriticalImages() {\n    const criticalImages = document.querySelectorAll('img[data-critical]');\n    criticalImages.forEach(img => {\n      if (img instanceof HTMLImageElement) {\n        this.loadImage(img);\n      }\n    });\n  }\n\n  init() {\n    this.preloadCriticalImages();\n    this.setupLazyLoading();\n    this.addLoadingStyles();\n  }\n\n  addLoadingStyles() {\n    if (document.getElementById('enhanced-image-loader-styles')) {\n      return;\n    }\n\n    const style = document.createElement('style');\n    style.id = 'enhanced-image-loader-styles';\n    style.textContent = `\n      img.loading { opacity: 0; transition: opacity 0.3s ease-in-out; }\n      img.loaded { opacity: 1; }\n      img.error { opacity: 0.7; filter: grayscale(100%); }\n      @media (prefers-reduced-motion: reduce) { img.loading { transition: none; } }\n    `;\n    document.head.appendChild(style);\n  }\n\n  getStats() {\n    return {\n      loadedImages: this.loadedImages.size,\n      webpSupported: this.webpSupported,\n      observerSupported: !!this.observer,\n    };\n  }\n}\n\n// Auto-initialize\nif (typeof window !== 'undefined') {\n  const enhancedLoader = new EnhancedImageLoader();\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      enhancedLoader.init();\n    });\n  } else {\n    enhancedLoader.init();\n  }\n\n  // Make available globally\n  window.enhancedImageLoader = enhancedLoader;\n}\n\nexport default EnhancedImageLoader;\n"],"names":["parcelRequire","$parcel$global","globalThis","self","window","global","register","module","exports","Object","defineProperty","value","configurable","get","$8aad91eeb8804f9c$export$2e2bcd8739ae039","set","s","enumerable","$8aad91eeb8804f9c$var$EnhancedImageLoader","observer","loadedImages","Set","webpSupported","initIntersectionObserver","IntersectionObserver","entries","forEach","entry","isIntersecting","has","target","loadImage","rootMargin","threshold","supportsWebP","Promise","resolve","webP","Image","onload","onerror","height","src","img","HTMLImageElement","originalSrc","dataset","classList","add","finalSrc","test","webpSrc","replace","imageExists","remove","error","console","warn","setupLazyLoading","lazyImages","document","querySelectorAll","observe","preloadCriticalImages","criticalImages","init","addLoadingStyles","getElementById","style","createElement","id","textContent","head","appendChild","getStats","size","observerSupported","enhancedLoader","readyState","addEventListener","enhancedImageLoader"],"version":3,"file":"enhanced-image-loader.db3270fe.js.map"}