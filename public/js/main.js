function setupLightbox(){0===$("#lightbox").length&&$("body").append(`
      <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Image lightbox">
        <div class="lightbox__content">
          <img class="lightbox__img" src="" alt="" />
          <div class="lightbox__caption"></div>
        </div>
        <button class="lightbox__close" aria-label="Close lightbox"></button>
        <button class="lightbox__nav lightbox__nav--prev" aria-label="Previous image"></button>
        <button class="lightbox__nav lightbox__nav--next" aria-label="Next image"></button>
      </div>
    `);let i=$("#lightbox"),a=$(".lightbox__img"),l=$(".lightbox__caption");var t=$(".lightbox__close");let n=$(".lightbox__nav--prev"),c=$(".lightbox__nav--next"),r=$(".proj__img"),s=0,e=(r.on("click",function(){var t=$(this),e=t.attr("src"),o=t.attr("alt"),t=t.closest("figure").find("figcaption").text()||o;a.attr("src",e),a.attr("alt",o),l.text(t),s=r.index(this),r.length<=1?(n.hide(),c.hide()):(n.show(),c.show()),i.addClass("active"),$("body").css("overflow","hidden"),i.focus()}),r.attr("tabindex","0").on("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),$(this).click())}),t.on("click",h),i.on("click",function(t){t.target===this&&h()}),n.on("click",function(){d(-1)}),c.on("click",function(){d(1)}),$(document).on("keydown",function(t){if(i.hasClass("active"))switch(t.key){case"Escape":h();break;case"ArrowLeft":d(-1);break;case"ArrowRight":d(1)}}),0),o;function d(t){(s+=t)<0?s=r.length-1:s>=r.length&&(s=0);var t=r.eq(s),e=t.attr("src"),o=t.attr("alt"),t=t.closest("figure").find("figcaption").text()||o;a.attr("src",e),a.attr("alt",o),l.text(t)}function h(){i.removeClass("active"),$("body").css("overflow",""),r.eq(s).focus()}i.on("touchstart",function(t){e=t.originalEvent.touches[0].clientX}),i.on("touchend",function(t){(o=t.originalEvent.changedTouches[0].clientX)<e-50?d(1):o>e+50&&d(-1)})}$(document).ready(function(){$(window).scroll(function(){100<$(document).scrollTop()?$(".header").addClass("scrolled"):$(".header").removeClass("scrolled")}),setupLightbox(),document.querySelectorAll(".accordion-summary .accordion-close a").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();t=e.closest("details");t&&t.removeAttribute("open")})})}),window.sr=ScrollReveal(),sr.reveal(".project",{duration:500,delay:500},50),sr.reveal(".about",{duration:500,delay:500},50),sr.reveal(".blurb",{duration:500,delay:500},50);