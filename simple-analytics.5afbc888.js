function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequire9b4d;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequire9b4d=o),(0,o.register)("grZMe",function(t,n){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),e(t.exports,"SimpleAnalytics",function(){return i}),e(t.exports,"default",function(){return a});class i{constructor(e={}){this.measurementId=e.measurementId||"G-Z5DNDF44NG",this.isInitialized=!1,this.consentGiven=this._checkConsent(),this.isDevelopment=this._isDevelopment(),this.queue=[],this.fallbackMode=!1}async init(){if(this.isInitialized)return!0;try{return await this._waitForGtag(),this.fallbackMode||this._configureGA4(),this.isInitialized=!0,this._processQueue(),this._enableAutoTracking(),!0}catch(e){return this._handleError("initialization",e),this.fallbackMode=!0,this.isInitialized=!0,!1}}_waitForGtag(){return new Promise(e=>{if("undefined"==typeof window){this.fallbackMode=!0,e();return}if(this.fallbackMode||window.gtag)return void e();let t=0,n=setInterval(()=>{t++,window.gtag?(clearInterval(n),e()):t>=20&&(clearInterval(n),this.fallbackMode=!0,e())},100)})}_configureGA4(){this.fallbackMode||"undefined"==typeof document||(window.dataLayer=window.dataLayer||[],window.gtag("js",new Date),window.gtag("config",this.measurementId,{page_title:document.title,page_location:window.location.href,allow_ad_personalization_signals:!1,allow_google_signals:!1,send_page_view:!0}))}_checkConsent(){try{let e=localStorage.getItem("analytics-consent");return"granted"===e}catch{return!1}}setConsent(e){try{localStorage.setItem("analytics-consent",e?"granted":"denied"),this.consentGiven=e,e&&this.isInitialized&&this._processQueue()}catch{}}_isDevelopment(){return"undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""!==window.location.port}_enableAutoTracking(){if("undefined"==typeof document)return;document.addEventListener("visibilitychange",()=>{document.hidden&&this.trackTimeOnPage()});let e=0;window.addEventListener("scroll",()=>{let t=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);t>e&&(e=t,t%25==0&&this.trackScrollDepth(t))}),this._initCoreWebVitals()}_initCoreWebVitals(){if("undefined"!=typeof window&&!this.isDevelopment&&"PerformanceObserver"in window)try{let e=new PerformanceObserver(e=>{let t=e.getEntries();if(t.length>0){let e=t[t.length-1];this.trackCoreWebVital("LCP",e.startTime)}});e.observe({entryTypes:["largest-contentful-paint"]}),setTimeout(()=>e.disconnect(),5e3)}catch(e){this._handleError("Core Web Vitals",e)}}_sendToGA4(e,t={}){if(!this.consentGiven||this.fallbackMode)return void(this.consentGiven?this.fallbackMode&&console.warn("Analytics (fallback):",e,t):this.queue.push({eventName:e,parameters:t}));try{window.gtag("event",e,t)}catch(e){this._handleError("sendToGA4",e)}}_processQueue(){this.consentGiven&&(this.queue.forEach(({eventName:e,parameters:t})=>{this._sendToGA4(e,t)}),this.queue=[])}_handleError(e,t){console.warn(`Analytics error in ${e}:`,t)}trackProjectClick(e,t="unknown"){this._sendToGA4("project_interaction",{project_name:e,project_type:t,interaction_type:"click"})}trackResumeDownload(){this._sendToGA4("file_download",{file_name:"resume",file_type:"pdf"})}trackContactForm(e,t="unknown"){this._sendToGA4("contact_form",{action:e,method:t})}trackExternalLink(e,t=""){this._sendToGA4("external_link",{link_url:e,link_text:t})}trackScrollDepth(e=null){let t=e||Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);this._sendToGA4("scroll_depth",{scroll_depth:t})}trackTimeOnPage(){if(!this.pageStartTime){this.pageStartTime=Date.now();return}let e=Math.round((Date.now()-this.pageStartTime)/1e3);this._sendToGA4("time_on_page",{time_spent_seconds:e})}trackCoreWebVital(e,t){this._sendToGA4("core_web_vitals",{metric:e,value:Math.round(100*t)/100,page_path:window.location.pathname})}trackCaseStudyInteraction(e,t="view",n="body"){this._sendToGA4("case_study_interaction",{case_study_name:e,action:t,section:n})}trackCaseStudyCompletion(e){this.trackCaseStudyInteraction(e,"complete")}getStatus(){return{initialized:this.isInitialized,consentGiven:this.consentGiven,fallbackMode:this.fallbackMode,isDevelopment:this.isDevelopment,queueLength:this.queue.length}}}let o=new i;"undefined"!=typeof window&&(window.portfolioAnalytics={trackProjectClick:(...e)=>o.trackProjectClick(...e),trackResumeDownload:()=>o.trackResumeDownload(),trackContactForm:(...e)=>o.trackContactForm(...e),trackExternalLink:(...e)=>o.trackExternalLink(...e),trackScrollDepth:()=>o.trackScrollDepth(),trackTimeOnPage:()=>o.trackTimeOnPage(),trackImageLightbox:(...e)=>o.trackImageLightbox(...e),trackCaseStudyCompletion:(...e)=>o.trackCaseStudyCompletion(...e),setConsent:e=>o.setConsent(e),getStatus:()=>o.getStatus()},o.init().then(e=>{e?console.warn("Portfolio Analytics initialized successfully"):console.warn("Portfolio Analytics initialized in fallback mode")}).catch(e=>{console.warn("Portfolio Analytics initialization failed:",e)}));var a=o}),o("grZMe");
//# sourceMappingURL=simple-analytics.5afbc888.js.map
